# 8 皇后问题

在8 X 8的国际象棋上摆放8个皇后，使其不能相互攻击，即任意两个皇后不得处在同一行、同一列或者同一对角线上。请问总共有多少种符合条件的摆法。

### 分析

可以定义一个含有8个数字0~7的数组，数组下标表示行号，数组元素的值表示列号，这样任意顺序的数组都可以符合皇后不能摆在同一行同一列的要求。再把所有的排列求出来，计算其中符合不在同一对角线的要求的排列数。

### 解法

本题大多数代码都与上题一致，只有全局变量和判定函数不同。具体求出所有排列的算法可以参照上题。

```Cpp
//用于保存符合条件排列个数的全局变量
int sum = 0;
auto canPlace(int numbers[8]) -> bool{
    for(int i = 0; i < 8; ++i){
        for(int j = 0; j < 8; ++j){
            //如果是同一个棋子，则跳过
            if(i == j){
                continue;
            }
            //如果有在同一对角线上的棋子，直接返回false
            if(i - j ==  numbers[i] - numbers[j] || j - i == numbers[i] - numbers[j])
            {
                return false;
            }
        }
    }
    //排列数加1
    ++sum;
    return true;
}
```